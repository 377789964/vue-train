{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/class.ts", "../src/style.ts", "../src/event.ts", "../src/attr.ts", "../src/patchProp.ts", "../src/index.ts"],
  "sourcesContent": ["// \u5143\u7D20\u7684\u589E\u5220\u6539\u67E5\uFF0C\u67E5\u627E\u5173\u7CFB \u6587\u672C\u589E\u5220\u6539\u67E5\n\nexport const nodeOps = {\n    createElement(tagName) {\n        return document.createElement(tagName)\n    },\n    insert(child, parent, anchor) {\n        // \u6709\u79FB\u52A8\u6027  a b c d -> a c b d\n        parent.inserBefore(child, anchor || null)\n    },\n    remove(child) {\n        const parent = child.parentNode\n        if(parent) {\n            parent.removeChild(child)\n        }\n    },\n    querySelector(selector) {\n        return document.querySelector(selector)\n    },\n    parentNode(node) {\n        return node.parentNode\n    },\n    nextSibling(node) {\n        return node.nextSibling\n    },\n    setElementText(el, text) {\n        el.textContent = text // innerHTMTL\u4E0D\u592A\u5B89\u5168\n    },\n    createText(text) {\n        return document.createTextNode(text)\n    },\n    setText(node, text) {\n        node.nodeValue = text\n    }\n}", "export const patchClass = (el, value) => {\n    if(value == null) { // \u5982\u679C\u6CA1\u6709\u7C7B\u540D \u5219\u79FB\u9664\u64CD\u4F5C\n        el.removeAttribute('calss')\n    } else {\n        el.className = value\n    }\n}\n", "export const patchStyle = (el, prev, next) => {\n    const style = el.style // \u7A0D\u540E\u66F4\u65B0 el.style\u5C5E\u6027\n    for(let key in next) {\n        style[key] = next(key)\n    }\n    // \u8001\u5F97\u6709\u65B0\u7684\u6CA1\u6709\u8981\u79FB\u9664\n    for(let key in prev) {\n        if(next[key] == null) {\n            style[key] = null\n        }\n    }\n}", "function createInvoker(intialValue) {\n    const invoker = (e) => invoker.value(e)\n    invoker.value = intialValue // \u540E\u7EED\u66F4\u7EC6\u7684\u65F6\u5019\u503C\u9700\u8981\u66F4\u65B0invoker\u7684value\u503C\n    return invoker\n}\n\n// \u51FD\u6570\u66F4\u65B0\u6210\u65B0\u7684\u51FD\u6570\uFF0C\u76F4\u63A5\u66F4\u6539.value\u5373\u53EF\nexport function patchEvent(el, key, nextValue) {\n    const invokers = el._vei || (el._vai = {})\n    const name = key.slice(2).toLowerCase() // onClick\n\n    // \u5982\u679Cnextvalue\u4E3A\u7A7A\u800C\u4E14\u7ED1\u5B9A\u8FC7\u4E8B\u4EF6\uFF0C\u90A3\u6211\u9700\u8981\u79FB\u9664\u64CD\u4F5C\n    const exisitingInvoker = invokers[name]\n    if(nextValue && exisitingInvoker) {\n        // \u66F4\u65B0\u4E8B\u4EF6\n        exisitingInvoker.value = nextValue\n    } else {\n        if(nextValue) {\n            // \u7F13\u5B58\u5B9E\u73B0\n            const invoker = (invokers[name] = createInvoker(nextValue))\n            el.addEventListener(name, invoker)\n        } else if(exisitingInvoker) {\n            el.removeEventListener(name, exisitingInvoker)\n            invokers[name] = null\n        }\n    }\n}\n", "export const patchAttr = (el, key, value) => {\n    if(value == null) {\n        el.removeAttribute(key)\n\n    } else {\n        el.setAttribute(key, value)\n    }\n}\n", "import { patchClass } from './class'\nimport { patchStyle } from './style'\nimport { patchEvent } from './event'\nimport { patchAttr } from './attr'\n\n// \u5BF9\u5143\u7D20\u8282\u70B9\u8FDB\u884C\u64CD\u4F5C\nexport const patchProp = (el, key, prevValue, nextValue) => {\n    if(key === 'calss') {\n        patchClass(el, nextValue)\n    }else if(key === 'style') {\n        patchStyle(el, prevValue, nextValue)\n    }else if(/^on[^a-z]/.test(key)) { // \u4E8B\u4EF6\n        // \u4E8B\u4EF6\u64CD\u4F5C addEventListener removeEventListener\n        // @click=\"fn1\" @click=\"fn2\"\n        // invoker.fn = fn1 invoker.fn = fn2\n        // @click=\"()=>invoker.fn()\" @click=\"()=>invoker.fn()\"\n        patchEvent(el, key, nextValue)\n    }else { // attr\n        patchAttr(el, key, nextValue)\n    }\n}\n", "// \u5BF9\u5143\u7D20\u53EF\u4EE5\u8FDB\u884C\u8282\u70B9\u64CD\u4F5C\nimport { nodeOps } from \"./nodeOps\";\n\nimport { patchProp } from \"./patchProp\"\n\nconst renderOptions = Object.assign(nodeOps, {patchProp})\n\n// dom\u64CD\u4F5Capi\nconsole.log(renderOptions, 'renderOptions')\n"],
  "mappings": ";AAEO,IAAM,UAAU;AAAA,EACnB,cAAc,SAAS;AACnB,WAAO,SAAS,cAAc,OAAO;AAAA,EACzC;AAAA,EACA,OAAO,OAAO,QAAQ,QAAQ;AAE1B,WAAO,YAAY,OAAO,UAAU,IAAI;AAAA,EAC5C;AAAA,EACA,OAAO,OAAO;AACV,UAAM,SAAS,MAAM;AACrB,QAAG,QAAQ;AACP,aAAO,YAAY,KAAK;AAAA,IAC5B;AAAA,EACJ;AAAA,EACA,cAAc,UAAU;AACpB,WAAO,SAAS,cAAc,QAAQ;AAAA,EAC1C;AAAA,EACA,WAAW,MAAM;AACb,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,YAAY,MAAM;AACd,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,eAAe,IAAI,MAAM;AACrB,OAAG,cAAc;AAAA,EACrB;AAAA,EACA,WAAW,MAAM;AACb,WAAO,SAAS,eAAe,IAAI;AAAA,EACvC;AAAA,EACA,QAAQ,MAAM,MAAM;AAChB,SAAK,YAAY;AAAA,EACrB;AACJ;;;AClCO,IAAM,aAAa,CAAC,IAAI,UAAU;AACrC,MAAG,SAAS,MAAM;AACd,OAAG,gBAAgB,OAAO;AAAA,EAC9B,OAAO;AACH,OAAG,YAAY;AAAA,EACnB;AACJ;;;ACNO,IAAM,aAAa,CAAC,IAAI,MAAM,SAAS;AAC1C,QAAM,QAAQ,GAAG;AACjB,WAAQ,OAAO,MAAM;AACjB,UAAM,OAAO,KAAK,GAAG;AAAA,EACzB;AAEA,WAAQ,OAAO,MAAM;AACjB,QAAG,KAAK,QAAQ,MAAM;AAClB,YAAM,OAAO;AAAA,IACjB;AAAA,EACJ;AACJ;;;ACXA,SAAS,cAAc,aAAa;AAChC,QAAM,UAAU,CAAC,MAAM,QAAQ,MAAM,CAAC;AACtC,UAAQ,QAAQ;AAChB,SAAO;AACX;AAGO,SAAS,WAAW,IAAI,KAAK,WAAW;AAC3C,QAAM,WAAW,GAAG,SAAS,GAAG,OAAO,CAAC;AACxC,QAAM,OAAO,IAAI,MAAM,CAAC,EAAE,YAAY;AAGtC,QAAM,mBAAmB,SAAS;AAClC,MAAG,aAAa,kBAAkB;AAE9B,qBAAiB,QAAQ;AAAA,EAC7B,OAAO;AACH,QAAG,WAAW;AAEV,YAAM,UAAW,SAAS,QAAQ,cAAc,SAAS;AACzD,SAAG,iBAAiB,MAAM,OAAO;AAAA,IACrC,WAAU,kBAAkB;AACxB,SAAG,oBAAoB,MAAM,gBAAgB;AAC7C,eAAS,QAAQ;AAAA,IACrB;AAAA,EACJ;AACJ;;;AC1BO,IAAM,YAAY,CAAC,IAAI,KAAK,UAAU;AACzC,MAAG,SAAS,MAAM;AACd,OAAG,gBAAgB,GAAG;AAAA,EAE1B,OAAO;AACH,OAAG,aAAa,KAAK,KAAK;AAAA,EAC9B;AACJ;;;ACDO,IAAM,YAAY,CAAC,IAAI,KAAK,WAAW,cAAc;AACxD,MAAG,QAAQ,SAAS;AAChB,eAAW,IAAI,SAAS;AAAA,EAC5B,WAAS,QAAQ,SAAS;AACtB,eAAW,IAAI,WAAW,SAAS;AAAA,EACvC,WAAS,YAAY,KAAK,GAAG,GAAG;AAK5B,eAAW,IAAI,KAAK,SAAS;AAAA,EACjC,OAAM;AACF,cAAU,IAAI,KAAK,SAAS;AAAA,EAChC;AACJ;;;ACfA,IAAM,gBAAgB,OAAO,OAAO,SAAS,EAAC,UAAS,CAAC;AAGxD,QAAQ,IAAI,eAAe,eAAe;",
  "names": []
}
